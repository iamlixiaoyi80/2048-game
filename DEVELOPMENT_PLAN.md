# 弹幕肉鸽游戏 - 开发计划

> **创建时间**: 2025年2月15日
> **版本**: v1.0.0
> **状态**: 规划中

---

## 📋 目录

1. [MVP 版本（最小可行产品）](#mvp-版本最小可行产品）
2. [最终版本](#最终版本)
3. [开发时间线](#开发时间线)
4. [优先级](#优先级)

---

## MVP 版本（最小可行产品）

### 🎯 目标

**验证核心玩法**：
- 登录系统是否正常
- 人物选择是否有趣
- 关卡设计是否合理
- 弹幕系统是否流畅
- 游戏循环是否完整

### ✅ 功能清单

#### 1. 登录系统

**功能**：
- [ ] 登录界面（竖版、Q版风格）
- [ ] 账号密码输入
- [ ] 新账号检测
- [ ] 老账号存档加载
- [ ] localStorage 存档

**验收**：
- [ ] 新账号可以创建
- [ ] 老账号可以加载
- [ ] 输入框正常工作
- [ ] 界面美观（Q版风格）

---

#### 2. 人物选择系统

**功能**：
- [ ] 人物选择界面（竖版、Q版风格）
- [ ] 3 个人物（狙击手、重装兵、刺客）
- [ ] 人物详情显示
  - [ ] 种族（人类、精灵、兽人）
  - [ ] 职业（狙击手、重装兵、刺客）
  - [ ] 天赋（1个）
  - [ ] 基础属性（HP、攻击、防御、速度）
- [ ] 人物选择确认

**人物配置**：

**狙击手（艾丽丝）**：
```
种族: 人类
职业: 狙击手
天赋: 暴击大师（暴击+20%）
基础属性:
- HP: 80
- 攻击: 20
- 防御: 5
- 速度: 3
```

**重装兵（鲍勃）**：
```
种族: 兽人
职业: 重装兵
天赋: 坚韧（减伤+20%）
基础属性:
- HP: 150
- 攻击: 10
- 防御: 15
- 速度: 2
```

**刺客（卡洛斯）**：
```
种族: 精灵
职业: 刺客
天赋: 敏捷（速度+20%）
基础属性:
- HP: 70
- 攻击: 18
- 防御: 5
- 速度: 5
```

**验收**：
- [ ] 3 个人物可以正常选择
- [ ] 人物详情正确显示
- [ ] 人物属性正确应用

---

#### 3. 关卡选择系统

**功能**：
- [ ] 关卡选择界面（竖版、Q版风格）
- [ ] 3 个关卡（新手村、魔法森林、沙漠遗迹）
- [ ] 关卡信息显示
  - [ ] 关卡名称
  - [ ] 关卡背景
  - [ ] 关卡描述
- [ ] 关卡选择确认

**关卡配置**：

**关卡1：新手村外围**
```
背景: 草地和森林
描述: 适合新手的简单关卡
敌人: 史莱姆、哥布林、野狼
波数: 5波
```

**关卡2：魔法森林**
```
背景: 神秘的魔法森林
描述: 有魔法元素的森林
敌人: 森林精灵、树精、魔法花朵
波数: 5波
```

**关卡3：沙漠遗迹**
```
背景: 炎热的沙漠遗迹
描述: 古老而神秘的遗迹
敌人: 沙虫、木乃伊、沙蝎
波数: 5波
```

**验收**：
- [ ] 3 个关卡可以正常选择
- [ ] 关卡信息正确显示
- [ ] 进入关卡正常

---

#### 4. 游戏场景

**功能**：
- [ ] 游戏场景（竖版）
- [ ] 玩家显示（Q版人物）
- [ ] 敌人显示（Q版敌人）
- [ ] 背景显示（关卡背景）
- [ ] UI 显示（HP、EXP）

**验收**：
- [ ] 玩家正常显示
- [ ] 敌人正常显示
- [ ] 背景正常显示
- [ ] UI 正常显示

---

#### 5. 玩家移动系统

**功能**：
- [ ] 虚拟摇杆（左下角）
- [ ] 玩家跟随摇杆移动
- [ ] 移动范围限制（不超出屏幕）

**验收**：
- [ ] 虚拟摇杆正常工作
- [ ] 玩家移动流畅
- [ ] 移动范围正确

---

#### 6. 弹幕系统

**功能**：
- [ ] 玩家弹幕发射（自动）
- [ ] 2 种弹幕轨迹
  - [ ] 直线弹幕
  - [ ] 曲线弹幕
- [ ] 2 种弹幕形状
  - [ ] 圆形弹幕
  - [ ] 三角弹幕
- [ ] 碰撞检测（玩家弹幕 vs 敌人）

**验收**：
- [ ] 弹幕发射正常
- [ ] 2 种轨迹正常
- [ ] 2 种形状正常
- [ ] 碰撞检测准确

---

#### 7. 敌人系统

**功能**：
- [ ] 3 种敌人（史莱姆、哥布林、野狼）
- [ ] 敌人生成（每波 3-5 个）
- [ ] 敌人 AI（简单移动）
- [ ] 敌人弹幕发射（简单弹幕）
- [ ] 敌人血量系统

**敌人配置**：

**史莱姆**：
```
HP: 20
攻击: 5
防御: 2
速度: 1
弹幕: 圆形弹幕
```

**哥布林**：
```
HP: 30
攻击: 8
防御: 3
速度: 2
弹幕: 三角弹幕
```

**野狼**：
```
HP: 40
攻击: 10
防御: 4
速度: 3
弹幕: 圆形弹幕
```

**验收**：
- [ ] 3 种敌人正常生成
- [ ] 敌人 AI 正常工作
- [ ] 敌人弹幕正常发射
- [ ] 敌人血量正常

---

#### 8. 战斗系统

**功能**：
- [ ] 玩家 vs 敌人弹幕（玩家受伤）
- [ ] 玩家弹幕 vs 敌人（敌人受伤）
- [ ] 伤害计算（基础公式：伤害 = 攻击 - 防御）
- [ ] 死亡判定（HP ≤ 0）
- [ ] 胜利判定（击败所有敌人）

**验收**：
- [ ] 伤害计算正确
- [ ] 死亡判定正确
- [ ] 胜利判定正确
- [ ] 战斗流程完整

---

#### 9. 关卡结算系统

**功能**：
- [ ] 结算界面（显示结果）
- [ ] 显示击杀数
- [ ] 显示伤害统计
- [ ] 显示通关时间
- [ ] 返回主界面按钮

**验收**：
- [ ] 结算界面正常显示
- [ ] 数据统计正确
- [ ] 返回功能正常

---

#### 10. 存档系统

**功能**：
- [ ] 自动存档（每关结束）
- [ ] 手动存档（暂停菜单）
- [ ] 存档读取（继续游戏）
- [ ] 存档信息显示

**验收**：
- [ ] 自动存档正常
- [ ] 手动存档正常
- [ ] 存档读取正常
- [ ] 存档信息正确

---

### 🎨 MVP 美术资源

**必须**：
- [ ] 3 个人物 Q版立绘（狙击手、重装兵、刺客）
- [ ] 3 种敌人 Q版立绘（史莱姆、哥布林、野狼）
- [ ] 3 个关卡背景（新手村、魔法森林、沙漠遗迹）
- [ ] 2 种弹幕形状（圆形、三角）
- [ ] UI 图片（按钮、对话框、图标）

---

### ⏱️ MVP 开发时间

**总计：5-7 天**

| 阶段 | 任务 | 时间 |
|------|------|------|
| Day 1 | 登录系统 | 1天 |
| Day 2-3 | 人物选择系统 | 2天 |
| Day 4 | 关卡选择系统 | 1天 |
| Day 5-7 | 游戏场景、战斗系统 | 3天 |

**总计：7天**

---

### ✅ MVP 验收标准

**功能验收**：
- [ ] 10 个核心功能全部实现
- [ ] 无重大 Bug
- [ ] 游戏流程完整（登录→人物→关卡→游戏→结算）

**性能验收**：
- [ ] FPS 稳定 60 帧
- [ ] 加载时间 < 5 秒
- [ ] 内存占用 < 100MB

**体验验收**：
- [ ] 玩法流畅
- [ ] 操作直观
- [ ] 界面美观（Q版风格）

---

## 最终版本

### 🎯 目标

**完整的游戏体验**：
- 所有核心功能完善
- 深度玩法系统
- 多人联机
- 微信小游戏上线

### ✅ 功能清单

#### MVP 功能（全部保留）

**所有 MVP 的功能全部包含**

---

#### 11. 技能系统（被动）

**功能**：
- [ ] 3 个被动技能
  - [ ] 精准（命中率+50%）
  - [ ] 快速射击（攻速+20%）
  - [ ] 护盾（低血量时生成护盾）
- [ ] 技能学习界面
- [ ] 技能效果应用

**验收**：
- [ ] 3 个技能正常工作
- [ ] 技能效果正确
- [ ] 学习界面正常

---

#### 12. 魔法系统（主动）

**功能**：
- [ ] 4 个主动魔法
  - [ ] 火球术（范围伤害+燃烧）
  - [ ] 冰霜术（冰冻+减速）
  - [ ] 闪电链（链式伤害）
  - [ ] 治愈术（恢复HP）
- [ ] 魔法释放界面
- [ ] 魔法冷却系统
- [ ] 魔法效果应用

**验收**：
- [ ] 4 个魔法正常工作
- [ ] 冷却系统正常
- [ ] 效果正确应用

---

#### 13. 道具系统

**功能**：
- [ ] 3 种道具
  - [ ] 血瓶（恢复30% HP）
  - [ ] 炸弹（全屏伤害）
  - [ ] 宝石（攻击力+10%，持续10秒）
- [ ] 道具掉落
- [ ] 道具使用
- [ ] 道具效果应用

**验收**：
- [ ] 3 种道具正常
- [ ] 道具掉落正常
- [ ] 道具使用正常
- [ ] 道具效果正确

---

#### 14. 装备系统

**功能**：
- [ ] 3 种装备
  - [ ] 武器（攻击力+）
  - [ ] 护甲（防御力+）
  - [ ] 饰品（暴击+）
- [ ] 装备掉落
- [ ] 装备穿戴
- [ ] 装备属性应用

**验收**：
- [ ] 3 种装备正常
- [ ] 装备掉落正常
- [ ] 装备穿戴正常
- [ ] 属性正确应用

---

#### 15. 升级系统

**功能**：
- [ ] 经验值系统
- [ ] 等级提升
- [ ] 属性提升（成长率）
- [ ] 技能点获得
- [ ] 三选一升级界面

**升级选项**：
- 选项1: 攻击力+10%
- 选项2: 攻速+15%
- 选项3: 暴击率+10%

**验收**：
- [ ] 经验值正常
- [ ] 等级提升正常
- [ ] 属性提升正常
- [ ] 三选一正常

---

#### 16. 成就系统

**功能**：
- [ ] 10 个成就
  - [ ] 击杀10个敌人
  - [ ] 击杀100个敌人
  - [ ] 击杀1000个敌人
  - [ ] 通过关卡1
  - [ ] 通过关卡3
  - [ ] 通过关卡5
  - [ ] 等级达到5
  - [ ] 等级达到10
  - [ ] 无伤通关
  - [ ] 10秒通关
- [ ] 成就解锁提示
- [ ] 成就列表界面

**验收**：
- [ ] 10 个成就正常
- [ ] 解锁提示正常
- [ ] 成功界面正常

---

#### 17. 排行榜系统

**功能**：
- [ ] 本地排行榜
- [ ] 排行项显示
  - [ ] 排名
  - [ ] 玩家名称
  - [ ] 最高关卡
  - [ ] 最高等级
  - [ ] 总击杀数
- [ ] 排行榜界面

**验收**：
- [ ] 本地排行榜正常
- [ ] 数据显示正确
- [ ] 排行榜界面正常

---

#### 18. Boss 战系统

**功能**：
- [ ] Boss 关卡（第5关）
- [ ] Boss AI
  - [ ] Boss 移动
  - [ ] Boss 技能1（召唤小鬼）
  - [ ] Boss 技能2（弹幕发射）
  - [ ] Boss 技能3（传送攻击）
- [ ] Boss 血条显示
- [ ] Boss 战奖励

**Boss 配置**：
```
名称: 黑暗领主
HP: 500
攻击: 20
防御: 10
速度: 2
技能:
- 召唤小鬼（每30秒召唤3个小鬼）
- 弹幕发射（发射螺旋弹幕）
- 传送攻击（随机位置传送并攻击）
```

**验收**：
- [ ] Boss 正常生成
- [ ] Boss AI 正常工作
- [ ] 3 个技能正常
- [ ] Boss 血条正常
- [ ] 奖励正常

---

#### 19. 高级弹幕系统

**功能**：
- [ ] 4 种弹幕轨迹
  - [ ] 直线弹幕
  - [ ] 曲线弹幕
  - [ ] 螺旋弹幕
  - [ ] 波浪弹幕
- [ ] 5 种弹幕形状
  - [ ] 圆形弹幕
  - [ ] 三角弹幕
  - [ ] 星形弹幕
  - [ ] 菱形弹幕
  - [ ] 五角星弹幕
- [ ] 弹幕池优化（500+ 弹幕）

**验收**：
- [ ] 4 种轨迹正常
- [ ] 5 种形状正常
- [ ] 弹幕数量 500+
- [ ] FPS 稳定 60

---

#### 20. 高级敌人系统

**功能**：
- [ ] 10 种敌人
  - [ ] 史莱姆、哥布林、野狼
  - [ ] 森林精灵、树精、魔法花朵
  - [ ] 沙虫、木乃伊、沙蝎
  - [ ] 雪人、冰鬼
- [ ] 敌人 AI（高级）
  - [ ] 追踪玩家
  - [ ] 围攻玩家
  - [ ] 配合攻击
- [ ] 敌人弹幕（多种）

**验收**：
- [ ] 10 种敌人正常
- [ ] AI 正常工作
- [ ] 弹幕正常

---

#### 21. 5 个关卡系统

**功能**：
- [ ] 5 个关卡
  - [ ] 关卡1：新手村外围
  - [ ] 关卡2：魔法森林
  - [ ] 关卡3：沙漠遗迹
  - [ ] 关卡4：冰雪要塞
  - [ ] 关卡5：黑暗城堡（Boss 关卡）
- [ ] 10 波敌人
- [ ] 难度递增

**关卡配置**：

**关卡4：冰雪要塞**
```
背景: 冰雪覆盖的城堡
描述: 严寒的冰霜要塞
敌人: 雪人、冰鬼
波数: 10波
```

**关卡5：黑暗城堡（Boss 关卡）**
```
背景: 黑暗的魔法城堡
描述: 最终Boss关卡
敌人: 骷髅、幽灵、蝙蝠（5波）
Boss: 黑暗领主
波数: 6波（5波普通 + 1波Boss）
```

**验收**：
- [ ] 5 个关卡正常
- [ ] 10 波敌人正常
- [ ] 难度递增合理

---

#### 22. 多人联机系统（可选）

**功能**：
- [ ] 服务器（Node.js + Socket.io）
- [ ] 房间系统
  - [ ] 创建房间
  - [ ] 加入房间
  - [ ] 房间列表
- [ ] 匹配系统
  - [ ] 实时匹配
  - [ ] 匹配算法
- [ ] 战斗同步
  - [ ] 位置同步
  - [ ] 弹幕同步
  - [ ] 血量同步
- [ ] 多人对战

**验收**：
- [ ] 服务器稳定
- [ ] 房间系统正常
- [ ] 匹配系统正常
- [ ] 战斗同步正常
- [ ] 延迟 < 100ms

---

#### 23. 微信小游戏适配（可选）

**功能**：
- [ ] 微信小游戏配置
- [ ] 触摸控制优化
- [ ] 微信登录 API
- [ ] 微信分享 API
- [ ] 广告系统
- [ ] 内购系统

**验收**：
- [ ] 微信小游戏正常运行
- [ ] 触摸控制流畅
- [ ] 登录分享正常
- [ ] 广告内购正常
- [ ] 通过审核

---

### 🎨 最终版本美术资源

**必须**：
- [ ] 3 个人物 Q版立绘（MVP 已有）
- [ ] 10 种敌人 Q版立绘（MVP 有 3 种，新增 7 种）
  - [ ] 森林精灵、树精、魔法花朵
  - [ ] 沙虫、木乃伊、沙蝎
  - [ ] 雪人、冰鬼
  - [ ] 骷髅、幽灵、蝙蝠
  - [ ] 黑暗领主（Boss）
- [ ] 5 个关卡背景（MVP 有 3 个，新增 2 个）
  - [ ] 冰雪要塞
  - [ ] 黑暗城堡
- [ ] 5 种弹幕形状（MVP 有 2 种，新增 3 种）
  - [ ] 星形
  - [ ] 菱形
  - [ ] 五角星
- [ ] UI 图片（按钮、对话框、图标）
- [ ] 技能图标（3 个被动技能）
- [ ] 魔法图标（4 个主动魔法）
- [ ] 道具图标（3 种道具）
- [ ] 装备图标（3 种装备）
- [ ] 成就图标（10 个成就）

---

### ⏱️ 最终版本开发时间

**总计：4-6 周**

| 阶段 | 任务 | 时间 |
|------|------|------|
| Week 1-2 | MVP 功能完善 | 2周 |
| Week 3 | 技能+魔法+道具+装备 | 1周 |
| Week 4 | 升级+成就+排行榜 | 1周 |
| Week 5 | Boss+高级弹幕+高级敌人 | 1周 |
| Week 6 | 多人联机+微信适配 | 1周 |

**总计：6周**

---

### ✅ 最终版本验收标准

**功能验收**：
- [ ] 23 个核心功能全部实现
- [ ] 无重大 Bug
- [ ] 游戏流程完整
- [ ] 多人联机正常（如果实现）
- [ ] 微信小游戏正常运行（如果实现）

**性能验收**：
- [ ] FPS 稳定 60 帧
- [ ] 加载时间 < 3 秒
- [ ] 弹幕数量 500+
- [ ] 内存占用 < 100MB
- [ ] 支持2000人同时在线（如果实现多人）

**体验验收**：
- [ ] 玩法丰富有趣
- [ ] 操作流畅直观
- [ ] 界面美观（Q版风格）
- [ ] 数值平衡合理
- [ ] 深度玩法完善

---

## 开发时间线

### 🗓️ 总体时间线

```
Week 1-2: MVP 版本
├── Day 1: 登录系统
├── Day 2-3: 人物选择系统
├── Day 4: 关卡选择系统
└── Day 5-7: 游戏场景、战斗系统

Week 3: MVP 完善 + 技能魔法道具装备
├── Day 8-10: 技能系统（被动）
├── Day 11-12: 魔法系统（主动）
└── Day 13-14: 道具+装备系统

Week 4: 升级+成就+排行榜
├── Day 15-16: 升级系统
├── Day 17-18: 成就系统
└── Day 19-21: 排行榜系统

Week 5: Boss+高级弹幕+高级敌人
├── Day 22-24: Boss 战系统
├── Day 25-26: 高级弹幕系统
└── Day 27-28: 高级敌人系统

Week 6: 多人联机+微信适配（可选）
├── Day 29-31: 多人联机系统
└── Day 32-35: 微信小游戏适配
```

---

## 优先级

### 🔴 P0（必须完成）

**MVP 核心功能**：
1. [ ] 登录系统
2. [ ] 人物选择系统
3. [ ] 关卡选择系统
4. [ ] 游戏场景
5. [ ] 玩家移动系统
6. [ ] 弹幕系统
7. [ ] 敌人系统
8. [ ] 战斗系统
9. [ ] 关卡结算系统
10. [ ] 存档系统

---

### 🟡 P1（重要）

**完善玩法**：
11. [ ] 技能系统（被动）
12. [ ] 魔法系统（主动）
13. [ ] 道具系统
14. [ ] 装备系统
15. [ ] 升级系统
16. [ ] 成就系统
17. [ ] 排行榜系统

---

### 🟢 P2（可选）

**深度玩法**：
18. [ ] Boss 战系统
19. [ ] 高级弹幕系统
20. [ ] 高级敌人系统
21. [ ] 5 个关卡系统（扩展）

---

### 🔵 P3（未来版本）

**多人+微信**：
22. [ ] 多人联机系统
23. [ ] 微信小游戏适配

---

## 📊 版本对比

| 功能 | MVP 版本 | 最终版本 |
|------|---------|---------|
| 登录系统 | ✅ | ✅ |
| 人物选择 | ✅（3个人物） | ✅（3个人物，详情完善） |
| 关卡选择 | ✅（3个关卡） | ✅（5个关卡） |
| 游戏场景 | ✅（基础） | ✅（完善） |
| 玩家移动 | ✅（虚拟摇杆） | ✅（虚拟摇杆） |
| 弹幕系统 | ✅（2种轨迹，2种形状） | ✅（4种轨迹，5种形状） |
| 敌人系统 | ✅（3种敌人） | ✅（10种敌人） |
| 战斗系统 | ✅（基础） | ✅（完善） |
| 关卡结算 | ✅（基础） | ✅（完善） |
| 存档系统 | ✅ | ✅ |
| 技能系统 | ❌ | ✅（3个被动技能） |
| 魔法系统 | ❌ | ✅（4个主动魔法） |
| 道具系统 | ❌ | ✅（3种道具） |
| 装备系统 | ❌ | ✅（3种装备） |
| 升级系统 | ❌ | ✅（三选一） |
| 成就系统 | ❌ | ✅（10个成就） |
| 排行榜系统 | ❌ | ✅（本地排行榜） |
| Boss 战 | ❌ | ✅（黑暗领主） |
| 高级弹幕 | ❌ | ✅（500+弹幕） |
| 高级敌人 | ❌ | ✅（10种敌人） |
| 多人联机 | ❌ | ✅（可选） |
| 微信小游戏 | ❌ | ✅（可选） |

---

## 🎯 开发策略

### 第一阶段：MVP（Week 1-2）

**目标**：验证核心玩法

**重点**：
- 快速实现核心功能
- 验证游戏设计
- 收集用户反馈

**体验**：
- Day 2: 登录系统体验
- Day 4: 人物选择体验
- Day 7: 完整游戏体验

---

### 第二阶段：完善玩法（Week 3-4）

**目标**：完善游戏体验

**重点**：
- 添加技能、魔法、道具、装备
- 添加升级、成就、排行榜
- 平衡数值

**体验**：
- Day 10: 技能系统体验
- Day 12: 魔法系统体验
- Day 14: 道具装备体验
- Day 16: 升级系统体验
- Day 18: 成就系统体验
- Day 21: 排行榜系统体验

---

### 第三阶段：深度玩法（Week 5）

**目标**：增加游戏深度

**重点**：
- 添加 Boss 战
- 添加高级弹幕
- 添加高级敌人
- 扩展关卡到 5 个

**体验**：
- Day 24: Boss 战体验
- Day 26: 高级弹幕体验
- Day 28: 完整游戏体验

---

### 第四阶段：多人+微信（Week 6，可选）

**目标**：上线发布

**重点**：
- 多人联机（如果需要）
- 微信小游戏适配（如果需要）
- 性能优化
- 平衡调整

**体验**：
- Day 31: 多人联机体验（如果实现）
- Day 35: 最终版本体验

---

## ✅ 总结

### MVP 版本

**功能**：10 个核心功能
**时间**：5-7 天
**目标**：验证核心玩法
**验收**：
- 功能完整
- 流程完整
- 无重大 Bug
- FPS 60

---

### 最终版本

**功能**：23 个核心功能（MVP 10 个 + 新增 13 个）
**时间**：4-6 周
**目标**：完整游戏体验
**验收**：
- 功能完善
- 性能优秀
- 体验流畅
- 可以上线

---

### 优先级

🔴 P0（必须）：MVP 核心功能（10 个）
🟡 P1（重要）：完善玩法（7 个）
🟢 P2（可选）：深度玩法（4 个）
🔵 P3（未来）：多人+微信（2 个）

---

*by OpenClaw 🦞*
*创建时间: 2025年2月15日*
*版本: v1.0.0*
